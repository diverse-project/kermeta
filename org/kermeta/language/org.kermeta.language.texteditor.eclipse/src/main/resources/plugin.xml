<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
	<extension point="org.eclipse.ui.editors">
		<editor
        class="org.kermeta.language.texteditor.eclipse.internal.KermetaEditor"
        id="org.kermeta.language.texteditor.eclipse.internal.KermetaEditorID"
        contributorClass="org.eclipse.ui.texteditor.BasicTextEditorActionContributor"
        default="true"
        extensions="kmt"
        icon="icons/kermeta.gif"
        name="Kermeta Editor">
		</editor>
	</extension>
	
	<extension point="org.eclipse.ui.popupMenus">
	     <objectContribution
            adaptable="true"
            id="KermetaPopupID"
            nameFilter="*.kp"
            objectClass="org.eclipse.core.resources.IFile">
	        <menu
	              icon="icons/kermeta.gif"
	              id="org.eclipse.ui.articles.action.contribution.navigator.subMenu"
	              label="Kermeta"
	              path="additions">
	           <separator name="kermetagroup2"/>
	        </menu>
	       <action
	             class="org.kermeta.language.texteditor.eclipse.internal.BuildKP"
	             id="org.kermeta.language.texteditor.eclipse.internal.BuildKPID"
	             icon="icons/kermeta.gif"
	             label="Build Kermeta Project"
	             menubarPath="org.eclipse.ui.articles.action.contribution.navigator.subMenu/kermetagroup1">
	       </action>
	     </objectContribution>
	     <objectContribution
            adaptable="true"
            objectClass="org.eclipse.core.resources.IProject"
            nameFilter="*"
            id="KermetaNatureToogleID">
         <action
               label="Add/Remove Kermeta Nature"
               class="org.kermeta.language.texteditor.eclipse.internal.ToggleNatureAction"
               menubarPath="additions"
               enablesFor="+"
               id="org.kermeta.language.texteditor.eclipse.internal.ToggleNatureActionID">
         </action>
      </objectContribution> 
	</extension>
	
	 <extension
	       id="org.kermeta.language.texteditor.eclipse.internal.KermetaNatureID"
	       point="org.eclipse.core.resources.natures">
	    <runtime>
	       <run class="org.kermeta.language.texteditor.eclipse.internal.KermetaNature"/>
	    </runtime>
	 </extension>
	 <extension
	       point="org.eclipse.ui.ide.projectNatureImages">
	    <image
	          icon="icons/kermetaproject.gif"
	          id="org.kermeta.language.texteditor.eclipse.internal.KermetaNatureImageID"
	          natureId="org.kermeta.language.texteditor.eclipse.internal.KermetaNatureID"/>
	 </extension>

</plugin>
