/* $Id:$ 
 * Creation : August 26, 2011
 * Licence  : EPL 
 * Copyright:
 * Authors  : 
 *            jfalcou
 */

package org::kermeta::language::behavior;


require kermeta
require "platform:/lookup/org.kermeta.language.model/src/main/ecore/kermeta.ecore"


aspect class VariableDecl
{
	
	/**
	 * Nested variable initialization is forbidden
	 */
	@Scope "MERGED"
	inv no_nested_init is do
		
		stdio.writeln("Checking no_nested_init for " + self.toString)
		
		if not(self.initialization.isVoid)
		then
			stdio.writeln("  init:" + self.initialization.toString)
			not(self.initialization.isInstanceOf(VariableDecl))
		else
			true
		end
	end
	
}

