/* $Id:$ 
 * Creation : March 2, 2011
 * Licence  : EPL 
 * Copyright:
 * Authors  : 
 *            cguy
 */

package org::kermeta::language::structure;

require kermeta
require "platform:/lookup/org.kermeta.language.model/src/main/ecore/kermeta.ecore"

using kermeta::standard

aspect class ClassDefinition
{
	operation getAllSuperTypes() : OrderedSet<Type> is do 
		var superTypes : OrderedSet<Type> init OrderedSet<Type>.new
		self.superType.each{st|
			superTypes.add(st)
			if (st.isInstanceOf(Class)) then
				superTypes.addAll(st.asType(Class).typeDefinition.asType(ClassDefinition).getAllSuperTypes())
			end
		}
		result := superTypes
	end
}