/* $Id:$ 
 * Creation : January 3, 2013
 * Licence  : EPL 
 * Copyright:
 * Authors  : 
 *            ablouin
 */
package org::kermeta::language::km2llvm;

require kermeta
require "./km2llvm_calls.kmt"

using kermeta::standard
using kermeta::utils
using org::kermeta::language::km2llvm
using org::kermeta::language::llvm


class GenerateIntegerEqualsCall inherits LLVMGenerator {
	method generateLLVMNoBuffer(ctx:Context) : String is do
		if ctx.currentOpCallParams.size!=2 then
			result := "FIXME GenerateIntegerEqualsCall: 2 operands required."
		else
			result := ctx.llvm.icmp(IcmpCondition.eq, ctx.llvm.i32, ctx.currentOpCallParams.at(1).name, ctx.currentOpCallParams.at(0).name)
		end
	end
} 


class GenerateIntegerPlusCall inherits LLVMGenerator {
	method generateLLVMNoBuffer(ctx:Context) : String is do
		if ctx.currentOpCallParams.size!=2 then
			result := "FIXME GenerateIntegerPlusCall: 2 operands required."
		else
			result := ctx.llvm.add(ctx.llvm.i32, ctx.currentOpCallParams.at(1).name, ctx.currentOpCallParams.at(0).name)
		end
	end
} 
