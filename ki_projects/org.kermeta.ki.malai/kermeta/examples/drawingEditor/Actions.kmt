/* $Id:$ 
 * Creation : February 8, 2010
 * Licence  : EPL 
 * Copyright:
 * Authors  : 
 *            ablouin
 */

package kermeta::ki::malai::examples;


require kermeta
require "platform:/resource/org.kermeta.ki.malai/kermeta/action/Action.kmt"
require "platform:/resource/org.kermeta.ki.malai/kermeta/examples/drawingEditor/AbstractPresentation.kmt"

using kermeta::standard
using kermeta::ki::malai::action


class ActionSelect inherits Action {
	reference selection : Shape[0..*]
	
	reference drawing : Drawing
	
	
	
	method doActionBody() : Void is do
		drawing.selection.clear
		
		selection.each { sh |
			drawing.selection.add(sh)
		}
		stdio.writeln(selection.size().toString)
	end
	
	
	method canDo() : Boolean is do
		result := drawing!=void
	end
	
	
	method cancelledBy<T : Action>(action : T) : Boolean is do
		result := self.isKindOf(T)
	end
}