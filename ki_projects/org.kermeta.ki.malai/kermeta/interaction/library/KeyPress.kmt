/*
 * Creation : June 8, 2010
 * Licence  : EPL 
 * Copyright: INRIA Rennes, Triskell
 * Authors  : Arnaud Blouin
 */
package kermeta::ki::malai::interaction;


require kermeta
require "platform:/resource/org.kermeta.ki.malai/kermeta/interaction/Interaction.kmt"

using kermeta::standard


class KeyPress inherits Interaction {
	attribute key : Integer
	
	
	method reinit() : Void is do
		super
		
		key := void
	end
	
	
	method initStateMachine() : Void is do
		var pressed : TerminalState init TerminalState.new
		var kppt : KeyPressPressureTransition init KeyPressPressureTransition.new
		kppt.keyPress := self
		pressed.initialise("keyPressed")
		addState(pressed)
		kppt.initialise(initState, pressed)
	end
}


class KeyPressPressureTransition inherits KeyPressureTransition {
	reference keyPress : KeyPress
	
	method action() : Void is do
		keyPress.key := key
	end
}
