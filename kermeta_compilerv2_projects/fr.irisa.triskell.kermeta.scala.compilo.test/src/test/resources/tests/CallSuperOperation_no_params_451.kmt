/* $Id:$ 
 * Creation : January 26, 2010
 * Licence  : EPL 
 * Copyright:
 * Authors  : 
 *            mclavreu
 */
@mainClass "p1::Main"
@mainOperation "main"


package p1;


require kermeta

class A {
	attribute ai : kermeta::standard::Integer
 	
 	operation write() : Void is do
 		stdio.writeln(ai.toString)
 	end
 	operation setAttribute(elt : kermeta::standard::Integer) is do
 		ai := elt
 	end
}

class B inherits A{
	
	method write() : Void is do
 		super
 	end
}

class Main
{
	operation main() : Void is do

		// Test does not work because of the implementation of CallSuperOperation.kmt
		/*
		kermeta exception : [kermeta::exceptions::TypeCastError : 70084]
		fr.irisa.triskell.kermeta.interpreter.KermetaRaisedException: kermeta exception : [kermeta::exceptions::TypeCastError : 70084]
		Trace:  
    		file 'platform:/resource/kermeta/language/behavior/CallSuperOperation.kmt', line 37, in '[kermeta::language::behavior::CallSuperOperation : 12478].asType' ( actualEObject.asType(kermeta::language::structure::Operation) )
    */
		var b : B init B.new
		b.setAttribute(2)
		b.write()
	end
}