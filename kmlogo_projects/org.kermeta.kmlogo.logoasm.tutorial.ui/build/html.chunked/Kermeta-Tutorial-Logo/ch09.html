<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <title>Chapter&nbsp;9.&nbsp;UI improvements</title><link rel="stylesheet" href="css/docbook.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.74.0"><meta name="keywords" content="Kermeta, metamodeling, language, kmLogo"><link rel="home" href="index.html" title="Logo Tutorial : Building kmLogo DSL using Kermeta"><link rel="up" href="index.html" title="Logo Tutorial : Building kmLogo DSL using Kermeta"><link rel="prev" href="ch08.html" title="Chapter&nbsp;8.&nbsp;Model transformation - Compilation"><link rel="next" href="ch10.html" title="Chapter&nbsp;10.&nbsp;Using the deployed DSL environment"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;9.&nbsp;UI improvements</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch08.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch10.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a name="chapter_ui_improvements.link"></a>Chapter&nbsp;9.&nbsp;UI improvements</h2></div></div></div><p>This chapter introduces the code needed to deploy a Kermeta code for a end user (eclipse
      GUI). It will use the interpreter as sample. </p><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="section_gui_deployement.link"></a>9.1.&nbsp;GUI deployment setup<span></span></h2></div></div></div><p>We need to add some GUI elements to interract with the interpreter sample through
        eclipse GUI. </p><div class="procedure"><ol type="1"><li><p>Create a new plug-in project and name it : <span class="bold"><strong>org.kermeta.kmlogo.logoasm.ui</strong></span>. This plugin project contains the eclipse
            extension and the code that allows to launch a kermeta program from Eclipse GUI. This
            allows to hide to the end user in which language the transformation is written.</p><p>On the creational wizard : Be sure that you set the activator at <span class="bold"><strong>org.kermeta.kmlogo.logoasm.ui.Activator</strong></span> then hit next.</p><p>Select<span class="bold"><strong> custom plug-in wizard</strong></span> and select <span class="bold"><strong>New File Wizard</strong></span> and <span class="bold"><strong>Popup Menu</strong></span>
            then hit next.</p></li><li><p>In the <span class="bold"><strong>New Wizard Option</strong></span> : </p><div class="itemizedlist"><ul type="disc"><li><p> set the Java package name to <span class="bold"><strong>org.kermeta.kmlogo.logoasm.ui.tools.wizards</strong></span>;</p></li><li><p>set Wizard Category Name to <span class="bold"><strong>Kermeta
                  samples</strong></span>;</p></li><li><p>set WizardClass Name to <span class="bold"><strong>KmLogoExampleWizard</strong></span>;</p></li><li><p>set WizardPage Class Name to <span class="bold"><strong>KmLogoExampleWizardPage</strong></span>
                </p></li><li><p>set Wizard name to <span class="bold"><strong>KmLogo samples</strong></span>;</p></li><li><p>file extension to <span class="bold"><strong>.kmt</strong></span>.</p></li></ul></div><p>In the <span class="bold"><strong>Sample Popup Menu</strong></span></p><div class="itemizedlist"><ul type="disc"><li><p>set Submenu name to <span class="bold"><strong>Logo</strong></span>;</p></li><li><p>set Action Label to <span class="bold"><strong>Run Logo
                  Simulator</strong></span>;</p></li><li><p>set Java package name to <span class="bold"><strong>org.kermeta.kmlogo.logoasm.ui.popup.actions</strong></span>;</p></li><li><p>set Action Class to <span class="bold"><strong>RunLogo</strong></span>;</p></li></ul></div><p>If you are asked wether to open the plug-in perspective which you are not familiar
            with, you can choose "No".</p></li><li><p>Copy (and replace) the files from the folder :</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>CompileNXCLogoK.java</strong></span>,<span class="bold"><strong>
                    ExecHelper.java</strong></span>, <span class="bold"><strong>RunLogoK.java</strong></span>,<span class="bold"><strong> ConvertToAsmlogoK</strong></span>,
                    <span class="bold"><strong>Activator.java</strong></span> from the folder <span class="bold"><strong>org.kermeta.kmlogo.logoasm.tutorial/parts/5.ui/uiSetting/ui</strong></span> into the
                    package<span class="bold"><strong> org.kermeta.kmlogo.logoasm.ui</strong></span>;</p></li><li><p><span class="bold"><strong>CompileLogoNXC.java</strong></span>, <span class="bold"><strong>UploadRXE.java</strong></span>, <span class="bold"><strong>RunLogo.java</strong></span>,
                    <span class="bold"><strong>ConvertToAsmlogo</strong></span>, from the folder <span class="bold"><strong>org.kermeta.kmlogo.logoasm.tutorial/parts/5.ui/uiSetting/popup</strong></span> into
                  the package <span class="bold"><strong>org.kermeta.kmlogo.logoasm.ui.popup.actions</strong></span>;</p></li><li><p><span class="bold"><strong>KmLogoExampleWizard.java</strong></span> into the package
                    <span class="bold"><strong>org.kermeta.kmlogo.logoasm.ui.tools.wizard</strong></span>.</p></li></ul></div><p>Inside the package <span class="bold"><strong>org.kermeta.kmlogo.logoasm.ui.tools.wizard</strong></span>, delete the file <span class="bold"><strong>KmLogoExampleWizardPage.java</strong></span> since we do not use it.</p><p>It is normal that you got errors at this time just because there are needed
            librairies that we shoul define in next step.</p><p>
            </p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Caution"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Caution]" src="gfx/admonitions/caution.gif"></td><th align="left">Caution</th></tr><tr><td align="left" valign="top"><p><span class="bold"><strong>RunLogo.java</strong></span> is the code to call the Logo
                interpreter (the operational behavior we've defined for it). Open it and look at how
                is manipulated the kmt file;</p><p><span class="bold"><strong>RunLogoK.java</strong></span> is code calls Kermeta interpreter
                with a given kermeta program and parameters. In addition to initializing the
                interpreter, this code also sets the correct java classpath. Otherwise, Kermeta
                interpreter will not correctly find the java code called via the "extern". </p></td></tr></table></div><p>
          </p></li><li><p>Set up the missing librairies : Copy the folder <span class="bold"><strong>org.kermeta.kmlogo.logoasm.tutorial/parts/5.ui/uiSetting/lib</strong></span> and paste it
            into your root project.</p><p>Unfold this folder, add <span class="bold"><strong>bluecove.jar</strong></span>, <span class="bold"><strong>icommand.jar</strong></span>, <span class="bold"><strong>RXTXcomm.jar</strong></span> to
            the Java build path (right-click) and move to the next step.</p></li><li><p>Copy the file <span class="bold"><strong>org.kermeta.kmlogo.logoasm.tutorial/parts/5.ui/uiSetting/plugin/plugin.xml</strong></span>
            and overwrite the one in the created project. </p><p>Open the file and have a look to the popupMenus extension. They declares the actions
            for the end user.</p></li><li><p>Copy the folder <span class="bold"><strong>org.kermeta.kmlogo.logoasm.tutorial/parts/5.ui/uiSetting/icons</strong></span> to the root
            of the project <span class="bold"><strong>org.kermeta.kmlogo.logoasm.ui</strong></span> so as to
            set up the correct icons for the ui.</p><p>Copy (and replace) the folder <span class="bold"><strong>org.kermeta.kmlogo.logoasm.tutorial/parts/5.ui/uiSetting/editor/icons</strong></span> to
            the root of the project <span class="bold"><strong>org.kermeta.kmlogo.logoasm.editor</strong></span> so as to set up the correct icons for
            the ui.</p></li><li><p>Copy and replace the file <span class="bold"><strong>META-INF/MANIFEST.MF</strong></span> by
            the one from <span class="bold"><strong>org.kermeta.kmlogo.logoasm.tutorial/parts/5.ui/uiSetting/plugin</strong></span>.</p><p>Open the file and have a look at the dependecies and the export package of the
            project.</p><p>To be sure that the editor'configuration has not been overwritten, right-click on
              <span class="bold"><strong>org.kermeta.kmlogo.logoasm.emftexteditor/concrete_syntax/ASMLogo.cs </strong></span> and
            choose to <span class="bold"><strong>Generate Text Ressource</strong></span> again.</p></li></ol></div><p>Now that everything is correctly configured, let's jump into the last step of this
        tutorial which is the deployement the Logo demo.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch08.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch10.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;8.&nbsp;Model transformation -
        Compilation&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;10.&nbsp;Using the deployed DSL
      environment</td></tr></table></div></body></html>