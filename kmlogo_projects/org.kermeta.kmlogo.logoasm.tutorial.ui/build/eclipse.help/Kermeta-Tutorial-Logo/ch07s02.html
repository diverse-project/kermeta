<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>7.2.&nbsp;Dynamic semantic</title><link rel="stylesheet" href="css/docbook.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.74.0"><meta name="keywords" content="Kermeta, metamodeling, language, kmLogo"><link rel="home" href="index.html" title="Logo Tutorial : Building kmLogo DSL using Kermeta"><link rel="up" href="ch07.html" title="Chapter&nbsp;7.&nbsp;Behaviour"><link rel="prev" href="ch07.html" title="Chapter&nbsp;7.&nbsp;Behaviour"><link rel="next" href="ch07s03.html" title="7.3.&nbsp;Virtual machine"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7.2.&nbsp;Dynamic semantic</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch07.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;7.&nbsp;Behaviour</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch07s03.html">Next</a></td></tr></table><hr></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="section_dynamic_semantic.link"></a>7.2.&nbsp;Dynamic semantic<span></span></h2></div></div></div><p>Thanks to the weaving, we are going to add some operations and properties to the
        ASMLogo.ecore in order to provide an operational semantics to Logo. </p><p>We will weave an interpreter to the ASM by adding "eval" operations to the ASM
        metaclasses. This eval operation will pass the actual context of the program.</p><div class="procedure"><ol type="1"><li><p>Open <span class="bold"><strong>org.kermeta.kmlogo.logoasm.srcKermeta/kermeta/5.Simulator/LogoDynSemantics.kmt</strong></span>
            and observe how the weaving (obtained through the require statement at the beginning of
            the LogoDynSemantics.kmt) adds some operations and properties to the
            ASMLogo.ecore.</p></li><li><p>In the top right corner of the <span class="bold"><strong>outline view</strong></span>, unfold
              <span class="bold"><strong>kmlogo::ASM package</strong></span>. Then use the red/blue package
            icon to see what comes from the opened kmt file (ine <span class="bold"><strong>red</strong></span>) and what comes from the imported files (in <span class="bold"><strong>blue</strong></span>). So the "blue-red-mix" colored icon tell you that the class has an
            aspect weaved into it.</p></li><li><p>Find the class <span class="bold"><strong>Repeat</strong></span> and observe that it only has
            a Block property imported from the ecore.</p><p>Inside this class, let's now simply add operational behavior in the eval operation
            as following:</p><pre class="programlisting">aspect class Repeat
	{
		method eval(context : Context) : Integer is do 
			from var i : Integer init condition.eval(context)
			until i &lt; 1
			loop
				result := block.eval(context)
				i := i - 1
			end
		end 
	}</pre><p>Save the file and observe that the method eval was added in the outline view of the
            class Repeat. And because this aspect comes from this opened kmt file it is colored in
            red (see figure below).</p><div class="figure"><a name="d0e1010"></a><div class="figure-contents"><div class="mediaobject"><img src="Kermeta-Tutorial-Logo_figures/KermetaAspectOutlineView.png" alt="Outline view"></div></div><p class="title"><b>Figure&nbsp;7.2.&nbsp;Outline view</b></p></div><p><br class="figure-break"></p></li><li><p>Finally, find the class <span class="bold"><strong>Context</strong></span>, and observe what
            is passed between eval() calls.</p></li></ol></div><p>At this point, you know how to weave operational semantic to Kermeta and rapidly
        identify them from the imported one inside the Outline view. Aspected classes are
        represented in Red/Blue color.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch07.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch07.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch07s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;7.&nbsp;Behaviour&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;7.3.&nbsp;Virtual machine</td></tr></table></div></body></html>