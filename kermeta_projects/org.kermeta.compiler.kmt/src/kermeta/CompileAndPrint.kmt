/* $Id: CompileAndPrint.kmt,v 1.2 2008-12-03 16:52:52 cfaucher Exp $
 * Creation date: January 24, 2008
 * License: EPL
 * Copyright: IRISA / INRIA / Universite Rennes 1
 * Authors: Cyril Faucher <cfaucher@irisa.fr>
 */

@usage "launcher"
@mainClass "kermeta::compiler::Printer"
@mainOperation "main_inner"

package kermeta::compiler;

require kermeta
require "StructureCompiler.kmt"
require "printJava.kmt"

using kermeta::language::structure
using km2ecore

class Printer inherits Main {

    method main_mode(input : String, traceInput : String, output : String, mode : CompilingMode) : Void is do		
		super(input, traceInput, output, mode)
		
		// Print in the console the Java
		stdio.writeln("\n - Start Java printing -")
		context.mu.packages.each{ p |
			p.print(context)
		}
		stdio.writeln(" - Finish Java printing -")
    end
    
}