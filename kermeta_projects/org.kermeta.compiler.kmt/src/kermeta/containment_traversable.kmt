/* $Id: containment_traversable.kmt,v 1.4 2008-01-25 17:10:01 cfaucher Exp $
 * Creation date: January 21, 2008
 * License: EPL
 * Copyright: IRISA / INRIA / Universite Rennes 1
 * Authors: Cyril Faucher <cfaucher@irisa.fr>
 */

/**
 *
 * func : <Object -> Object> because we need to visit the tags.
 *
 */

package kermeta::language::structure;

require kermeta
require "compile_behavior.kmt"

using kermeta::language::structure
//using kermeta::language::behavior
using kermeta::standard


aspect class ModelingUnit {
	operation eachOwnedElement(func : <Object -> Object>) : Void is do
        self.packages.each{ o |
			func(o.asType(Package))
		}
		self.ownedTags.each{ o |
			func(o.asType(Tag))
		}
	end
}

aspect class Package {
	operation eachOwnedElement(func : <Object -> Object>) : Void is do
        self.ownedTypeDefinition.each{ o |
			func(o.asType(TypeDefinition))
		}
	end
}

aspect class ClassDefinition {
	operation eachOwnedElement(func : <Object -> Object>) : Void is do
        self.ownedAttribute.each{ o |
			func(o.asType(MultiplicityElement))
		}
		
		self.ownedOperation.each{ o |
			func(o.asType(MultiplicityElement))
		}
	end	
}

