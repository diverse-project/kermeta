@mainClass "root_package::Main"
@mainOperation "main"


package root_package;


require kermeta
require "toBeRequired.kmt"
using kermeta::standard
using kermeta::kunit
using kermeta::exceptions

class Main inherits TestCase
{	

	operation main() : Void is do
    	var tr : TestRunner init TestRunner.new
		tr.run(Main)
		tr.printTestResult 
    end		

    operation test0() : Void is do
	    stdio.writeln("test")
        var m : MainToBeRequired init MainToBeRequired.new
        
        m.strRequired := "trucRequiredPre"
        m.b := true
        
        
	        m.truc("trucRequiredPost")
	        m.checkInvariants
	        assert(true) 
        rescue (err : ConstraintViolatedInv)
        	stdio.writeln(err.toString)
        	stdio.writeln(err.message)
        	assert(false)
        rescue (err : ConstraintViolatedPre)
        	stdio.writeln(err.toString)
        	stdio.writeln(err.message)
        	assert(false)
         rescue (err : ConstraintViolatedPost)
        	stdio.writeln(err.toString)
        	stdio.writeln(err.message)
        	assert(false)
    end
}