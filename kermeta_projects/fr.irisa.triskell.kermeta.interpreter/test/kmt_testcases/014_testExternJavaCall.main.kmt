/* $Id: 014_testExternJavaCall.main.kmt,v 1.2 2005-04-20 13:20:30 dvojtise Exp $
 * Project : Kermeta.interpreter. test
 * License : GPL
 * Copyright : IRISA / INRIA / Universite de Rennes 1
 * ----------------------------------------------------------------------------
 * Creation date : Apr 18 2005
 * Authors : 
 * 		Didier Vojtisek (dvojtise@irisa.fr)
 * Description :  	
 * 	see class javadoc.	 
 */
@mainClass "testExternJavaCall::Test_ExternJavaCall"
@mainOperation "run"

package testExternJavaCall;

require "../../../fr.irisa.triskell.kermeta.framework/src/kermeta/Standard.kmt"

class Test_ExternJavaCall  inherits kermeta::kunit::Assert {


    operation run() : kermeta::standard::Integer is do
    	test1()
        test2()
        result := 0
    end
    
    // simple tests
    operation test1() : Void is do
        // extern fr::irisa::triskell::kermeta::interpreter::test::TestJavaCall.assertMethodWasCalled()
        extern fr::irisa::triskell::kermeta::interpreter::test::TestJavaCall.simpleCall()
        extern fr::irisa::triskell::kermeta::interpreter::test::TestJavaCall.assertMethodWasCalled()
    end
    operation test2() : Void is do
        var boolvalue : kermeta::standard::Boolean
		//extern fr::irisa::triskell::kermeta::interpreter::test::TestJavaCall.assertMethodWasCalled()
        boolvalue ?= extern fr::irisa::triskell::kermeta::interpreter::test::TestJavaCall.callBooleanReturn()
        assertTrue(true)
        assert(boolvalue)
        extern fr::irisa::triskell::kermeta::interpreter::test::TestJavaCall.assertMethodWasCalled()
        
        // TODO add a test on the returned value
    end
    // tests with multiple parameters
    
    
    // todo write call using variables, or parameters
    // todo write call using complex types (set and collections)
    
}

