@testOperation " "
@mainClass "testOpCallObject::TestMyObjectCreation"
@mainOperation "testCreateMyObjects"
package testOpCallObject;

require "../../../fr.irisa.triskell.kermeta.framework/src/kermeta/Standard.kmt"
//require "../../lib/framework.km"
// Creation of an object
// TODO : test in a real unit test attribute, and reference...
class MyObject {

	attribute objects : set RefObject[0..*]

}

class RefObject {

	attribute entier : kermeta::standard::Integer
	operation set_entier() is do
		entier := 4245
	end
	operation get_entier() is do
		result := entier
	end
}


class TestMyObjectCreation inherits kermeta::kunit::TestSuite {

	operation testCreateMyObject() : Void is do
		var o : MyObject
		var refo : RefObject
		var res : kermeta::standard::Integer
		refo := RefObject.new
		refo.set_entier()
		o := MyObject.new
		o.objects.add(refo)
		assert(o.objects.size==1)
	end

	
	
}