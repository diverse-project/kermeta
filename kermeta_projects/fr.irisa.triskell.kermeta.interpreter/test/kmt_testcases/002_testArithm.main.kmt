@mainClass "testArithm::Test_arithm"
@mainOperation "main_operation"

package testArithm;

require "../../../fr.irisa.triskell.kermeta.framework/src/kermeta/Standard.kmt"

// arithmetic operations
class Test_arithm {

    operation main_operation() : kermeta::standard::Integer is do
        var r1, r2, r3, rptm : kermeta::standard::Integer
        var r1_8, r2_8, r3_8, rptm : kermeta::standard::Integer
        var r1_m8, r2_m8, r3_m8, rptm : kermeta::standard::Integer
        
        // melting
        rptm := operation_ptm(2)
        
        // plus
        r1 := operation1(0)
        r1_8 := operation1(8)
        r1_m8 := operation1(-8)

        // minus
        r2 := operation2(0)
        r2_8 := operation2(8)
        r2_m8 := operation2(-8)

        // times
        r3 := operation3(0)
        r3_8 := operation3(8)
        r3_m8 := operation3(-8)

        // print melting
/*        stdio.write(rptm)
        
        // print plus
        stdio.write(r1)
        stdio.write(r1_8)
        stdio.write(r1_m8)
        
        // print minus
        stdio.write(r2)
        stdio.write(r2_8)
        stdio.write(r2_m8)

        // print times
        stdio.write(r3)
        stdio.write(r3_8)
        stdio.write(r3_m8)
*/
    end

    // plus times minus
    operation operation_ptm(num : kermeta::standard::Integer) : kermeta::standard::Integer is do
        var ~result : kermeta::standard::Integer
        var a : kermeta::standard::Integer
        a := 4
        ~result := ( 3 + a ) * num - 10
        result := ~result
    end

    // plus
    operation operation1(num : kermeta::standard::Integer) : kermeta::standard::Integer is do
        result := 5 + num
    
    end
    

    // minus
    operation operation2(num : kermeta::standard::Integer) : kermeta::standard::Integer is do
        result := 5 - num
    end

    // times
    operation operation3(num : kermeta::standard::Integer) : kermeta::standard::Integer is do
        result := 5 * num
    end

    // div
    operation operation4(num : kermeta::standard::Integer) : kermeta::standard::Integer is do
        result := 5 / num
    end


}


