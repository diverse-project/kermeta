package kermeta::language;

require "../Standard.kmt"
require "structure.kmt"

using kermeta::standard

/***************************************************
 * Franck FLEUREY - 17/02/2005
 * Triskell Research Group
 * IRISA / University of Rennes 1 (France)
 * Distributed under the terms of the GPL licence
 *
 * Implementation of Metacore reflective collections.
 *************************************************** */
 
/**
 * ReflectiveCollection
 */
abstract class ReflectiveCollection<G> inherits Set<G>
{
	method add(element : G) : Void is do
		extern fr::irisa::triskell::kermeta::runtime::language::ReflectiveCollection.add(self, element)
	end
	
	method remove(element : G) : Void is do
		extern fr::irisa::triskell::kermeta::runtime::language::ReflectiveCollection.remove(self, element)
	end
	
	method clear() : Void is do
		extern fr::irisa::triskell::kermeta::runtime::language::ReflectiveCollection.clear(self)
	end
}

/**
 * ReflectiveSequence
 */
abstract class ReflectiveSequence<G> inherits OrderedSet<G>, ReflectiveCollection<G> {
	
	method add(element : G) : Void from ReflectiveCollection is do
		super(element)
	end
	
	method remove(element : G) : Void from ReflectiveCollection is do
		super(element)
	end
	
	method clear() : Void from ReflectiveCollection is do
		super()
	end
	
	method addAt(index : Integer, element : G) : Void is do
		extern fr::irisa::triskell::kermeta::runtime::language::ReflectiveSequence.addAt(self, index, element)
	end
	
	method removeAt(index : Integer) : Void is do
		extern fr::irisa::triskell::kermeta::runtime::language::ReflectiveSequence.removeAt(self, index)
	end

}

