/** 
 * Contains the definition of a Kermeta exception and a few basic exceptions.
 */
package kermeta::exceptions;
require "../Standard.kmt"
using kermeta::standard
using kermeta::utils

/* ****************************************************************************
 * $Id:
 * Project : Kermeta (First iteration)
 * Creation date :  
 * File : testSuite.skel
 * License : GPL
 * Copyright : IRISA / Universite de Rennes 1
 * Creation date : Mar 14, 2005
 * Author : zdrey
 * Description :  
 *      Contains the main exceptions from which all the others inherit
 *
 *************************************************************************** */

/* ****************************************************************************
 * 1-General errors
 * ****************************************************************************/ 

/**
 * Generic exceptions
 * The main class from which all the exception inherit
 */
class Exception
{

    /**
     * The message attached to the exception
     */
    attribute message : String
    
    /**
     * Any nested exception
     */
    attribute nestedException : Exception
    
    /**
     * The stack trace as a String
     * Filled by the interpreted when the exception is raised
     */
    attribute stackTrace : String
}

/* ****************************************************************************
 * 2-Runtime errors
 * ****************************************************************************/ 

/**
 * Abstract exception for interpreter exceptions
 */
abstract class RuntimeError inherits Exception {
	
	/**
	 * The code that raised the exception
	 */
	attribute expression : kermeta::language::behavior::Expression
}

/**
 * Occurs when a feature is called on void
 */
class CallOnVoidTarget inherits RuntimeError {}

/**
 * Use this exception whenyou want to forbid the access to an unimplemented operation 
 * and invite to implement it
 */
class NotImplementedException inherits Exception {}

/* ****************************************************************************
 * 3-Standard library related errors
 * ****************************************************************************/ 

/*
 * Arithmetic errors
 */
class DivisionByZero inherits Exception {}
class OverflowError inherits Exception {}
 
/*
 * String errors
 */
class StringIndexOutOfBound inherits Exception {}
  
/*
 * Collection related errors
 */  
class IndexOutOfBound inherits Exception {}
class EmptyCollection inherits Exception {}

class IteratorIsOff inherits Exception {}

/* ****************************************************************************
 * 4-Constraints related errors 
 * ****************************************************************************/ 
class ConstraintViolatedPre inherits Exception {}
class ConstraintViolatedPost inherits Exception {}
class ConstraintViolatedInv inherits Exception {}

