<project name="KermetaFramework" default="all">
	<!-- configuration properties -->
	
	<!-- project configuration -->
	<property name="project.base.dir" location=".."/>
	<property name="project.name" value="KermetaFramework"/>
	<property name="build.dir" location="${project.base.dir}/build"/>
	<!--<property name="deployment.dest" location="\\\\jersey\\triskell\\www\\triskell\\softwares\\kermeta\\docs"/>-->
	<property name="deployment.dest" location="\\\\jersey\\triskell\\www\\kermeta.org\\docs"/>
	
	<target name="all" depends="compile,kdoc">
	</target>
	
	<target name="compile">
		<javac srcdir="java"
			 destdir="${build.dir}/class"
			classpath="../../fr.irisa.triskell.kermeta.io/build/class;
        				../../fr.irisa.triskell.kermeta.model/build/class;
 	       				../../fr.irisa.triskell.kermeta/lib/thirdparty/emfatic-core.jar;
        				../../fr.irisa.triskell.kermeta/lib/thirdparty/ldt-core.jar;
			        	../../../plugins/org.eclipse.emf.common_2.2.0.v200606271057.jar;
			        	../../../plugins/org.eclipse.emf.ecore_2.2.0.v200606271057.jar;
			        	../../../plugins/org.eclipse.emf.ecore.xmi_2.2.0.v200606271057.jar;
						../../fr.irisa.triskell.kermeta.model/lib/thirdparty/log4j.jar" 
			>
		</javac>
	</target>
	
	<target name="kdoc">
		<property name="KermetaFramework.output" value="${build.dir}/html/KermetaFramework/"/>
		<mkdir dir="${KermetaFramework.output}"/>
        <java
        	classpath="
        	../lib/xercesImpl.jar;
        	../../fr.irisa.triskell.kermeta.io/build/class;
        	../../fr.irisa.triskell.kermeta.model/build/class;
        	../../fr.irisa.triskell.kermeta/lib/thirdparty/emfatic-core.jar;
        	../../fr.irisa.triskell.kermeta/lib/thirdparty/ldt-core.jar;
        	../../../plugins/org.eclipse.emf.common_2.2.0.v200606271057.jar;
        	../../../plugins/org.eclipse.emf.ecore_2.2.0.v200606271057.jar;
        	../../../plugins/org.eclipse.emf.ecore.xmi_2.2.0.v200606271057.jar;
			../../fr.irisa.triskell.kermeta.model/lib/thirdparty/log4j.jar;
        	../build/class/" 
        	classname="fr.irisa.triskell.kermeta.docutils.KM2HTMLMain"
        	dir=".."
        	fork="yes">
        	<arg value="${KermetaFramework.output}" />
		</java>
       	<copy todir="${KermetaFramework.output}" >
       		<fileset file="../src/html/screen.css"></fileset>
		</copy>

		<copy todir="${KermetaFramework.output}/figures">
			<fileset dir="../src/figures"/>
		</copy>
    </target>

	
</project>