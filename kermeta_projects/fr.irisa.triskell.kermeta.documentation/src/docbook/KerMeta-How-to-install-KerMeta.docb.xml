<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
"http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">
<book lang="en-US">
  <bookinfo>
    <pubdate>Build date: @BUILD.DATE@</pubdate>

    <author>
      <firstname>Didier Vojtisek, Fran√ßois Tanguy</firstname>
    </author>

    <title>Kermeta tutorial</title>

    <date>$Date: 2008-10-01 12:06:41 $</date>

    <keywordset>
      <keyword>Kermeta</keyword>

      <keyword>metamodeling</keyword>

      <keyword>language</keyword>
      <keyword>tutorial</keyword>
      <keyword>install</keyword>
    </keywordset>

    <subtitle>How to install Kermeta</subtitle>

    <bibliomisc>Licence EPL</bibliomisc>


    <abstract>
      <para>This tutorial is part of a serie of tutorials that explain step by step one of the aspect of Kermeta. 
      This one shows how to install Kermeta workbench.</para>
    </abstract>

    <publisher>
      <publishername>INRIA</publishername>

      <address>
        <state>France</state>
        <otheraddr>
          <ulink url="http://www.inria.fr">http://www.inria.fr</ulink>
        </otheraddr>
      </address>
    </publisher>

    <confgroup>
      <conftitle>title</conftitle>

      <confnum>Reference</confnum>

      <confsponsor>sponsor</confsponsor>
    </confgroup>
  </bookinfo>

  <preface>
    <?print-orientation portrait?>

    <title>Preface</title>

    <para><emphasis role="strong">Kermeta is a Domain Specific Language
    dedicated to metamodel engineering. It fills the gap let by MOF which
    defines only the structure of meta-models, by adding a way to specify
    static semantic (similar to OCL) and dynamic semantic (using operational
    semantic in the operation of the metamodel). </emphasis> <emphasis
    role="strong"> <emphasis role="strong">Kermeta uses the object-oriented
    paradigm like Java or Eiffel.</emphasis> </emphasis> <emphasis
    role="strong"> This document presents various aspects of the language,
    including the textual syntax, the metamodel (which can be viewed as the
    abstract syntax) and some more advanced features typically included in its
    framework. </emphasis></para>

    <important>
      <emphasis role="strong">Kermeta is an evolving software and d</emphasis>

      <emphasis role="strong">
        <emphasis role="strong">espite that we put a lot of attention to this
        document, it may contain errors (more likely in the code samples). If
        you find any error or have some information that improves this
        document, please send it to us using the bug tracker in the
        forge:</emphasis>
      </emphasis>

      <ulink type="" url="http://gforge.inria.fr/tracker/?group_id=32">
        <emphasis role="strong">
          <emphasis role="strong">
            <emphasis
            role="strong">http://gforge.inria.fr/tracker/?group_id=32</emphasis>
          </emphasis>
        </emphasis>
      </ulink>

      <emphasis role="strong">
        <emphasis role="strong">
          <emphasis role="strong" />
        </emphasis>
      </emphasis>

      <emphasis role="strong">
        <emphasis role="strong">
          <emphasis role="strong">or using the user mailing list
          (kermeta-users@lists.gforge.inria.fr)</emphasis>
        </emphasis>
      </emphasis>

      <emphasis role="strong">
        <emphasis role="strong">
          <emphasis role="strong" />
        </emphasis>
      </emphasis>

      Last check: v1.2.0
    </important>

    <tip>
      The most update version of this document is available online : 

      <ulink type=""
      url="http://www.kermeta.org/">http://www.kermeta.org/documents</ulink>

       .
    </tip>
  </preface>

  <chapter>
    <title>Prerequisites</title>

    <itemizedlist>
      <listitem>
        <para>Your operating system must use the 1.5 or above version of Java.
        If not, please visit the Java web page (<ulink
        url="http://java.sun.com">http://java.sun.com/</ulink>) and install
        the latest version of Java.</para>
      </listitem>
      <listitem>
        <para>Eclipse must be installed. We currently use Eclipse 3.4.1 (Ganymede). You can get Eclipse from <ulink
        url="http://www.eclipse.org/downloads/">http://www.eclipse.org/downloads/</ulink>.
        </para>
        <para>In this tutorial, your Eclipse installation is supposed to be relatively minimal, so
        you should download the <emphasis role="strong">Eclipse classic</emphasis> version of 
        Eclipse which is a good base for development with Kermeta.
        This tutorial will cover every necessary step to get Kermeta working with
        Eclipse.</para>
        <para>Some additional installation instructions are available here : <ulink
        url="http://www.eclipse.org/documentation/">http://www.eclipse.org/documentation/</ulink>
        .</para>
      </listitem>
    </itemizedlist>
  </chapter>

  <chapter>
    <title>The first Eclipse start</title>

    <para>When you start Eclipse for the first time, you will be asked for a
    workspace location. This is the directory used by Eclipse to store the
    projects you will create in the future. The image below is the dialog box
    you should see. By default, Eclipse proposes to create a workspace
    directory named "workspace" in your home directory.</para>

    <figure>
      <title></title>

      <mediaobject>
        <imageobject>
          <imagedata fileref="KerMeta-How-to-install-KerMeta_figures/first_eclipse_start.png" />
        </imageobject>
      </mediaobject>
    </figure>

	<tip>
		If (like me) you have many versions of eclipse with various configurations, 
		you may consider create your workspace directly in the eclipse folder. You'll be able to 
		easily move or remove a complete eclipse without the risk of corrupting eclipse .metadata
		with various configurations.
	</tip>
    <para>On every launch, you will be prompted for the workspace
    location. For now, we just click "OK" to open the main window of Eclipse using 
    the workspace you've created.
    You should see a window like the one below.</para>

    <figure>
      <title></title>

      <mediaobject>
        <imageobject>
          <imagedata fileref="KerMeta-How-to-install-KerMeta_figures/first_time_main_window.png" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>You can close the "Welcome" tab. Now
    your window looks like this one :</para>

    <figure>
      <title></title>

      <mediaobject>
        <imageobject>
          <imagedata fileref="KerMeta-How-to-install-KerMeta_figures/main_window.png" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>Now, let's proceed to the Kermeta installation.</para>
  </chapter>

  <chapter>
    <title>Kermeta Installation</title>

      <para>Kermeta installation use the installer built in Eclipse.
      </para>
      
      

          <para>In the main menu of Eclipse, select  <emphasis>Help &gt;&gt;
          Software Updates </emphasis>. A dialog
          box appears. Select the tab <emphasis>Available Software</emphasis>.</para>

          <figure>
            <title></title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="KerMeta-How-to-install-KerMeta_figures/software_updates_and_add-ons_available_software1.png" />
              </imageobject>
            </mediaobject>
          </figure>


		<para>Now, you need to tell Eclipse where to look for Kermeta features. So you click on
		<emphasis>Add Site...</emphasis> and enter the following location : <emphasis>http://www.kermeta.org/update</emphasis></para>
	
		<figure>
            <title></title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="KerMeta-How-to-install-KerMeta_figures/add_site_kermeta.png" />
              </imageobject>
            </mediaobject>
          </figure>
	
		<para>In order to enable Kermeta Graphical editors, you also need to use Topcased Update site.
		Click <emphasis>Manage Sites...</emphasis> then select the topcased update site for your 
		version of Eclipse. In our case, eclipse 3.4.
		</para>
         
        <figure>
        	<title></title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="KerMeta-How-to-install-KerMeta_figures/available_software_sites_1.png" />
              </imageobject>
            </mediaobject>
		</figure>
	
          
        <para>We can now select the feature we want to install.
		</para>
		<para>To be simple, select everything from Kermeta site, select 
		the UML editor from Topcased site and the EPF RichText feature from Topcased site
		</para>
        <figure>
            <title></title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="KerMeta-How-to-install-KerMeta_figures/feature_selection.png" />
              </imageobject>
            </mediaobject>
        </figure> 
          
          
        <para>Then click on <emphasis>Install</emphasis>.</para>
        <para>You'll be asked to review and confirm your choice.</para>
		<figure>
            <title></title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="KerMeta-How-to-install-KerMeta_figures/review_and_confirm.png" />
              </imageobject>
            </mediaobject>
        </figure>
        
        <para>You must accept the term of the licenses agreement and click finish.</para>
		<figure>
            <title></title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="KerMeta-How-to-install-KerMeta_figures/review_licenses.png" />
              </imageobject>
            </mediaobject>
        </figure>
        
        
        <para>Finally, you must reboot Eclipse to take
              changes in account. Do it by clicking on "Yes".</para>

		<figure>
                <title></title>

                <mediaobject>
                  <imageobject>
                    <imagedata fileref="KerMeta-How-to-install-KerMeta_figures/reboot.png" />
                  </imageobject>
                </mediaobject>
        </figure>

		<para>Once rebooted, you can check your version of Kermeta in the
          main menu of Eclipse &gt; Help &gt;&gt; About Eclipse SDK. You should see
          Kermeta logo. clicking on it must display its version and build date</para>

          <figure>
            <title></title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="KerMeta-How-to-install-KerMeta_figures/about_eclipse.png" />
              </imageobject>
            </mediaobject>
          </figure>
  	</chapter>
  	<chapter>
  		<title>Diagnosing a Kermeta installation</title>
          <para>If you suspect your installation to be incorrect (for example, because you started
          from another version of Eclipse, or because you have already some plugins 
          installed in your eclipse), this chapter list some way to help you diagnose 
          your Kermeta installation.
          </para>
        <section id="sec_plugin_registry_diagnostic.link">
      		<title
      			id="sec_plugin_registry_diagnostic.title.link">Plugin Registry diagnostic</title>
          	<para>Since Eclipse 3.4, the Plugin Registry view allows to diagnose the installed plugins.</para>
          	<para>In the main menu of Eclipse &gt; Windows &gt;&gt; Show view &gt;&gt;  Other... then select the Plug-in Registry view in the PDE Runtime folder.</para>
          	

			<figure>
            	<title></title>
            	<mediaobject>
              		<imageobject>
                	<imagedata fileref="KerMeta-How-to-install-KerMeta_figures/plugin_registry_show_view.png" />
              		</imageobject>
            	</mediaobject>
          	</figure>  
          	<para>Then you must enable the advanced options. (small triangle on the top rigth corner of the view)</para>
			<figure>
            	<title></title>
            	<mediaobject>
              		<imageobject>
                	<imagedata fileref="KerMeta-How-to-install-KerMeta_figures/plugin_registry_show_advanced_options.png" />
              		</imageobject>
            	</mediaobject>
          	</figure>         	
          	<para>Now, you can right click on the plugins and diagnose them. Typically, if it requires another plugin that cannot be run, it will tell you. If this other plugin is in the list, diagnose it until you find the origin of your problem...</para>
			<figure>
            	<title></title>
            	<mediaobject>
              		<imageobject>
                	<imagedata fileref="KerMeta-How-to-install-KerMeta_figures/plugin_registry_diagnose.png" />
              		</imageobject>
            	</mediaobject>
          	</figure> 
    	</section>
    	<section id="sec_error_log_diagnostic.link">
      		<title
      			id="sec_error_log_diagnostic.title.link">Read the Error log</title>
      		<para>
      			If the Plugin registry didn't show you the error, you may additionnaly have a look in the Error Log view.
      			In the main menu of Eclipse &gt; Windows &gt;&gt; Show view &gt;&gt;  Other... then select the Error Log view in the General folder. 
      		</para>
      	</section>
	</chapter>

      
</book>