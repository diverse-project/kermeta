<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>

<!--
 <copyright>
 </copyright>

 $Id: plugin.xml,v 1.6 2006-12-27 12:08:51 ftanguy Exp $
-->

<plugin>

  <extension point="org.eclipse.emf.ecore.generated_package">
    <package 
       uri = "plugin:/resource/fr.irisa.triskell.kermeta.kpm/model/Kpm.ecore" 
       class = "fr.irisa.triskell.kermeta.kpm.KpmPackage"
       genModel = "model/Kpm.genmodel" /> 
  </extension>
  <extension
        id="fr.irisa.triskell.kermeta.kpm.startup"
        point="org.eclipse.ui.startup">
  </extension>
  <extension
        id="kermetaProjectBuilder"
        point="org.eclipse.core.resources.builders">
     <builder >
        <run class="fr.irisa.triskell.kermeta.kpm.builder.KermetaProjectBuilder"/>
     </builder>
  </extension>
  <extension
        point="org.eclipse.ui.popupMenus">
     <objectContribution
           adaptable="false"
           id="fr.irisa.triskell.kermeta.kpm.srcFolderContribution"
           objectClass="org.eclipse.core.resources.IFolder">
        <action
              class="fr.irisa.triskell.kermeta.kpm.actions.popup.MakeAFolderAnSrcFolder"
              icon="images/kermeta_logo.gif"
              id="fr.irisa.triskell.kermeta.kpm.srcAction"
              label="Add / Remove src property"/>
     </objectContribution>
  </extension>
  <extension
        point="org.eclipse.ui.decorators">
     <decorator
           class="fr.irisa.triskell.kermeta.kpm.actions.popup.SrcFolderDecorator"
           id="fr.irisa.triskell.kermeta.kpm.srcFolderDecorator"
           label="fr.irisa.triskell.kermeta.kpm.decorator1"
           lightweight="true"
           objectClass="org.eclipse.core.resources.IFolder"/>
  </extension>
  <extension
        point="org.eclipse.ui.popupMenus">
     <objectContribution
           adaptable="false"
           id="fr.irisa.triskell.kermeta.kpm.kermetaProjectContribution"
           objectClass="org.eclipse.core.resources.IProject">
        <menu
              id="org.eclipse.ui.articles.action.contribution.navigator.subMenu"
              label="Kermeta"
              path="additions"/>
        <action
              class="fr.irisa.triskell.kermeta.kpm.actions.popup.OpenKPMEditor"
              icon="images/kermeta_logo.gif"
              id="fr.irisa.triskell.kermeta.kpm.openKPMEditor"
              label="Kermeta Project Settings"
              menubarPath="org.eclipse.ui.articles.action.contribution.navigator.subMenu/kermetagroup1"/>
     </objectContribution>
  </extension>
  <extension
        id="runner.kermetanature"
        name="Kermeta Nature"
        point="org.eclipse.core.resources.natures">
     <runtime>
        <run class="fr.irisa.triskell.kermeta.kpm.workspace.KermetaNature"/>
     </runtime>
     <builder id="fr.irisa.triskell.kermeta.kpm.builder.KermetaProjectBuilder"/>
  </extension>
  <extension
        id="kermetaMarker"
        name="Kermeta Problem"
        point="org.eclipse.core.resources.markers">
     <persistent value="true"/>
     <super type="org.eclipse.core.resources.problemmarker"/>
  </extension>
</plugin>

