<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin
   id="fr.irisa.triskell.kermeta"
   name="Kermeta Workbench"
   version="0.0.12"
   provider-name="IRISA/INRIA"
   class="fr.irisa.triskell.kermeta.plugin.KermetaPlugin">
   <runtime>
      <library name="lib/thirdparty/antlr.jar">
         <export name="*"/>
      </library>
      <library name="lib/thirdparty/emfatic-core.jar">
         <export name="*"/>
      </library>
      <library name="lib/thirdparty/ldt-core.jar">
         <export name="*"/>
      </library>
      <library name="lib/thirdparty/log4j.jar">
         <export name="*"/>
      </library>
      <library name="lib/interpreter_kermeta.jar">
         <export name="*"/>
      </library>
      <library name="lib/io_kermeta.jar">
         <export name="*"/>
      </library>
      <library name="kermeta_plugin.jar">
         <export name="*"/>
      </library>
      <library name="lib/model_kermeta.jar">
         <export name="*"/>
      </library>
   </runtime>
   <requires>
     <import plugin="org.eclipse.ui"/>
      <import plugin="org.eclipse.core.runtime"/>
      <import plugin="org.eclipse.jface.text"/>
      <import plugin="org.eclipse.ui.editors"/>
      <import plugin="org.eclipse.ui.ide"/>
      <import plugin="org.eclipse.ui.views"/>
      <import plugin="org.eclipse.ui.intro"/>
      <import plugin="org.eclipse.core.resources"/>
      <import plugin="org.eclipse.emf.ecore"/>
      <import plugin="org.eclipse.emf.ecore.xmi"/>
      <import plugin="org.eclipse.team.core"/>
   </requires>
   <extension
         point="org.eclipse.ui.popupMenus">
      <objectContribution
            objectClass="org.eclipse.core.resources.IFile"
            nameFilter="*.ecore"
            id="fr.irisa.triskell.kermeta.contribution1">
         <menu
	         id="org.eclipse.ui.articles.action.contribution.navigator.subMenu"
	         label="View Sub Menu"
	         path="additions">
      		<separator name="kermetagroup1"/>
		</menu>
        <action
               enablesFor="1"
               label="Generate Kermeta Source"
               icon="images/kermeta.png"
               menubarPath="org.eclipse.ui.articles.action.contribution.navigator.subMenu/kermetagroup1" 
               class="fr.irisa.triskell.kermeta.popup.actions.Ecore2KermetaAction"
               id="fr.irisa.triskell.kermeta.Ecore2KMT"/>
      </objectContribution>
      <objectContribution
            objectClass="org.eclipse.core.resources.IFile"
            nameFilter="*.kmt"
            id="fr.irisa.triskell.kermeta.objectContribution1">
        <menu
	         id="org.eclipse.ui.articles.action.contribution.navigator.subMenu"
	         label="Kermeta"
	         path="additions">
      		<separator name="kermetagroup2"/>
      	</menu>
        <action
               enablesFor="1"
               label="Compile to XMI"
               icon="images/to_xmi_16.gif"
               menubarPath="org.eclipse.ui.articles.action.contribution.navigator.subMenu/kermetagroup1" 
               class="fr.irisa.triskell.kermeta.popup.actions.CompileKMTAction"
               id="fr.irisa.triskell.kermeta.KMT2KM"/>         
        <action
               enablesFor="1"
               label="Generate Ecore"
               icon="images/eclipse_ecore.gif"
               menubarPath="org.eclipse.ui.articles.action.contribution.navigator.subMenu/kermetagroup1" 
               class="fr.irisa.triskell.kermeta.popup.actions.Kermeta2EcoreAction"
               id="fr.irisa.triskell.kermeta.KMT2Ecore"/>
         
      </objectContribution>
   </extension>
   <extension
         id="fr.irisa.triskell.kermeta.filetypes"
         name="kermeta.filetypes"
         point="org.eclipse.team.core.fileTypes">
      <fileTypes
            extension="kmt"
            type="text"/>
      <fileTypes
            extension="km"
            type="text"/>
      <fileTypes
            extension="ecore"
            type="text"/>
   </extension>

</plugin>
