/* $Id: value_types.kmt,v 1.2 2009-02-18 15:13:42 cfaucher Exp $ 
 * Creation : February 16, 2009
 * Licence  : EPL 
 * Copyright:
 * Authors  : 
 *            Cyril Faucher <cfaucher@irisa.fr>
 *
 *	Contains the annotations dedicated to the compiling issue on ValueTypes
 */


package kermeta::standard;

require kermeta

 @EMF_needProperty "name=value javaClass=java.lang.String"
aspect abstract class ValueType {
}

aspect abstract class Comparable {

	 @RecopyInValueTypes "true"
	operation compareTo(other : Object) : Integer is abstract
	
	 @RecopyInValueTypes "true"
	operation isGreater(other : Object) : Boolean is abstract
	
	 @RecopyInValueTypes "true"
	operation isLower(other : Object) : Boolean is abstract
	
	 @RecopyInValueTypes "true"
	operation isLowerOrEqual(other : Object) : Boolean is abstract
	
	 @RecopyInValueTypes "true"
	operation isGreaterOrEqual(other : Object) : Boolean is abstract

}

aspect abstract class Summable<G> {

 	 @RecopyInValueTypes "true"
	operation plus(other : G) : G is abstract

}

	// Boolean becomes an EDataType in Ecore with java.lang.Boolean as instanceClassName
 @EMF_instanceClassName "java.lang.Boolean"
 @EMF_defaultConstructor "new java.lang.Boolean(false)"
aspect class Boolean inherits ValueType {
}

 @EMF_instanceClassName "java.lang.Number"
aspect abstract class Numeric inherits Comparable, ValueType { 
}

 @EMF_instanceClassName "java.lang.Integer"
 @EMF_defaultConstructor "new java.lang.Integer(0)"
aspect class Integer inherits Numeric, Summable<Integer> {
}

 @EMF_instanceClassName "java.lang.Double"
 @EMF_defaultConstructor "new java.lang.Double(\"\")"
aspect class Real inherits Numeric, Summable<Real> {
}

 @EMF_instanceClassName "java.lang.Character"
 @EMF_defaultConstructor "new java.lang.Character(' ')"
aspect class Character inherits ValueType, Comparable {
}

 @EMF_instanceClassName "java.lang.String"
 @EMF_defaultConstructor "new java.lang.String()"
aspect class String inherits ValueType, Comparable, Summable<String> {
}
