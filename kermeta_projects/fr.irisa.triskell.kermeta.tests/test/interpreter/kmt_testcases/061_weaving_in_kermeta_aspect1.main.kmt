/* $Id: 061_weaving_in_kermeta_aspect1.main.kmt,v 1.5 2007-11-05 08:51:16 ftanguy Exp $ */

// Type checking on simple control stucts
@mainClass "weavingtest::WeavingTest"
@mainOperation "main"
package weavingtest;

require kermeta
require "061_weaving_in_kermeta_base.kmt"
// this file contains the aspect classes 


using kermeta::kunit


@aspect "true"
@anothertag "othertagvalue"
class A {
	

}

@aspect "true"
class B inherits C{}


@aspect "true"
class C {

	inv myinv is true
	operation test1(param : A) : Void is do
		a == b
		a == d
	end
	
	operation test0(param : A) : Void 
	pre mypre is true
	post mypost is true
	is abstract
		
	attribute a : A
	attribute c : A
	attribute d : B
	
	operation returnInteger() : kermeta::standard::Integer is do
		result := 0
	end

	operation overload2() : Void 
	pre mypre is true
	is do
		assert(true)
	end 

}

@aspect "false"
class D{
}


class WeavingTest inherits TestCase {

	operation main() : Void is do
		var tr : TestRunner init TestRunner.new
		tr.run(WeavingTest)
		tr.printTestResult
	end


	operation testTry1() : Void is do
		var aC : C init C.new
		var aA : A init A.new
		stdio.writeln(aC.returnInteger.toString)
		stdio.writeln(aC.returnString)		
		aC.test0(aA)
		aC.overload1
		aC.overload2
	end
}
/* END OF FILE */

