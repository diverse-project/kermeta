global java.util.List list;
global java.util.Map uniqueobjects;
rule "RulesName"
	 when 
$s2: art.type.Service(name == "tutorial.diva.cas.INotifier")
$s3: art.type.Port(name == "notifier",role == "client",service == $s2)
$s4: art.type.Service(name == "tutorial.diva.cas.ICalendar")
$s5: art.type.Port(name == "calendar",role == "server",service == $s4)
$s6: art.type.PrimitiveType(name == "tutorial.diva.cas.calendar",port contains $s3,port contains $s5)
$s7: art.instance.PrimitiveInstance(name == "Calendar",type == $s6)
$s8: art.type.Service(name == "tutorial.diva.cas.IAddressDB")
$s9: art.type.Port(name == "addressDB",role == "server",service == $s8)
$s10: art.type.PrimitiveType(name == "tutorial.diva.cas.addressDB",port contains $s9)
$s11: art.instance.PrimitiveInstance(name == "AddressDataBase",type == $s10)
$s1: art.instance.CompositeInstance(name == "CAS application",subComponent contains $s7,subComponent contains $s11)
$s0: art.System(root == $s1)
then
 	 java.util.HashMap m = new java.util.HashMap();
m.put("anySystem",$s0);
m.put("theRootComponent",$s1);
m.put("theCalendarComponent",$s7);
m.put("theCalendarNotifierClientPort",$s3);
m.put("theAddressDBComponent",$s11);
m.put("theAddressDBProvidedPort",$s9);
	 list.add(m);
 art.System s0 = art.ArtFactory.eINSTANCE.createSystem();
art.instance.CompositeInstance s1 = art.instance.InstanceFactory.eINSTANCE.createCompositeInstance();
art.instance.PrimitiveInstance s2 = art.instance.InstanceFactory.eINSTANCE.createPrimitiveInstance();
art.instance.TransmissionBinding s3 = art.instance.InstanceFactory.eINSTANCE.createTransmissionBinding();
art.implem.OSGiComponent s4 = art.implem.ImplemFactory.eINSTANCE.createOSGiComponent();
art.instance.PrimitiveInstance s5 = art.instance.InstanceFactory.eINSTANCE.createPrimitiveInstance();
art.implem.OSGiComponent s6 = art.implem.ImplemFactory.eINSTANCE.createOSGiComponent();
art.instance.PrimitiveInstance s7 = art.instance.InstanceFactory.eINSTANCE.createPrimitiveInstance();
art.instance.TransmissionBinding s8 = art.instance.InstanceFactory.eINSTANCE.createTransmissionBinding();
art.instance.TransmissionBinding s9 = art.instance.InstanceFactory.eINSTANCE.createTransmissionBinding();
art.implem.OSGiComponent s10 = art.implem.ImplemFactory.eINSTANCE.createOSGiComponent();
art.instance.PrimitiveInstance s11 = art.instance.InstanceFactory.eINSTANCE.createPrimitiveInstance();
art.instance.TransmissionBinding s12 = art.instance.InstanceFactory.eINSTANCE.createTransmissionBinding();
art.instance.DelegationBinding s13 = art.instance.InstanceFactory.eINSTANCE.createDelegationBinding();
art.instance.DelegationBinding s14 = art.instance.InstanceFactory.eINSTANCE.createDelegationBinding();
art.type.FunctionalService s15 = art.type.TypeFactory.eINSTANCE.createFunctionalService();
art.type.Operation s16 = art.type.TypeFactory.eINSTANCE.createOperation();
art.type.Parameter s17 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.Parameter s18 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.Parameter s19 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.Operation s20 = art.type.TypeFactory.eINSTANCE.createOperation();
art.type.Parameter s21 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.Parameter s22 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.Parameter s23 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.Operation s24 = art.type.TypeFactory.eINSTANCE.createOperation();
art.type.Parameter s25 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.Operation s26 = art.type.TypeFactory.eINSTANCE.createOperation();
art.type.Parameter s27 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.FunctionalService s28 = art.type.TypeFactory.eINSTANCE.createFunctionalService();
art.type.Operation s29 = art.type.TypeFactory.eINSTANCE.createOperation();
art.type.Parameter s30 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.Parameter s31 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.FunctionalService s32 = art.type.TypeFactory.eINSTANCE.createFunctionalService();
art.type.Operation s33 = art.type.TypeFactory.eINSTANCE.createOperation();
art.type.Parameter s34 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.Parameter s35 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.FunctionalService s36 = art.type.TypeFactory.eINSTANCE.createFunctionalService();
art.type.Operation s37 = art.type.TypeFactory.eINSTANCE.createOperation();
art.type.Parameter s38 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.Parameter s39 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.Parameter s40 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.Operation s41 = art.type.TypeFactory.eINSTANCE.createOperation();
art.type.Parameter s42 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.FunctionalService s43 = art.type.TypeFactory.eINSTANCE.createFunctionalService();
art.type.Operation s44 = art.type.TypeFactory.eINSTANCE.createOperation();
art.type.Parameter s45 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.Operation s46 = art.type.TypeFactory.eINSTANCE.createOperation();
art.type.Parameter s47 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.Operation s48 = art.type.TypeFactory.eINSTANCE.createOperation();
art.type.Parameter s49 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.FunctionalService s50 = art.type.TypeFactory.eINSTANCE.createFunctionalService();
art.type.Operation s51 = art.type.TypeFactory.eINSTANCE.createOperation();
art.type.Parameter s52 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.Operation s53 = art.type.TypeFactory.eINSTANCE.createOperation();
art.type.FunctionalService s54 = art.type.TypeFactory.eINSTANCE.createFunctionalService();
art.type.Operation s55 = art.type.TypeFactory.eINSTANCE.createOperation();
art.type.Parameter s56 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.Parameter s57 = art.type.TypeFactory.eINSTANCE.createParameter();
art.type.PrimitiveType s58 = art.type.TypeFactory.eINSTANCE.createPrimitiveType();
art.type.Port s59 = art.type.TypeFactory.eINSTANCE.createPort();
art.type.Port s60 = art.type.TypeFactory.eINSTANCE.createPort();
art.type.PrimitiveType s61 = art.type.TypeFactory.eINSTANCE.createPrimitiveType();
art.type.Port s62 = art.type.TypeFactory.eINSTANCE.createPort();
art.type.Port s63 = art.type.TypeFactory.eINSTANCE.createPort();
art.type.Port s64 = art.type.TypeFactory.eINSTANCE.createPort();
art.type.PrimitiveType s65 = art.type.TypeFactory.eINSTANCE.createPrimitiveType();
art.type.Port s66 = art.type.TypeFactory.eINSTANCE.createPort();
art.type.Port s67 = art.type.TypeFactory.eINSTANCE.createPort();
art.type.Port s68 = art.type.TypeFactory.eINSTANCE.createPort();
if (s0 != null && s1!=null){s0.setRoot(s1);
}if (s0 != null && s15!=null){s0.getServices().add(s15);
}if (s0 != null && s28!=null){s0.getServices().add(s28);
}if (s0 != null && s32!=null){s0.getServices().add(s32);
}if (s0 != null && s36!=null){s0.getServices().add(s36);
}if (s0 != null && s43!=null){s0.getServices().add(s43);
}if (s0 != null && s50!=null){s0.getServices().add(s50);
}if (s0 != null && s54!=null){s0.getServices().add(s54);
}if (s0 != null && s58!=null){s0.getTypes().add(s58);
}if (s0 != null && s61!=null){s0.getTypes().add(s61);
}if (s0 != null && s65!=null){s0.getTypes().add(s65);
}if (s1 != null && s2!=null){s1.getSubComponent().add(s2);
}if (s1 != null && s5!=null){s1.getSubComponent().add(s5);
}if (s1 != null && s7!=null){s1.getSubComponent().add(s7);
}if (s1 != null && s11!=null){s1.getSubComponent().add(s11);
}if (s1 != null && s13!=null){s1.getDelegation().add(s13);
}if (s1 != null && s14!=null){s1.getDelegation().add(s14);
}if (s2 != null){s2.setState("ON");
}if (s2 != null){s2.setName("DrivingNotifier");
}if (s2 != null && s61!=null){s2.setType(s61);
}if (s2 != null && s1!=null){s2.setSuperComponent(s1);
}if (s2 != null && s3!=null){s2.getBinding().add(s3);
}if (s2 != null && s4!=null){s2.setImplem(s4);
}if (s3 != null){s3.setId("channel");
}if (s3 != null && s63!=null){s3.setClient(s63);
}if (s3 != null && s59!=null){s3.setServer(s59);
}if (s3 != null && s5!=null){s3.setServerInstance(s5);
}if (s4 != null){s4.setImplementingClass("cas.impl.DrivingNotifier");
}if (s5 != null){s5.setState("ON");
}if (s5 != null){s5.setName("VoiceChannel");
}if (s5 != null && s58!=null){s5.setType(s58);
}if (s5 != null && s1!=null){s5.setSuperComponent(s1);
}if (s5 != null && s6!=null){s5.setImplem(s6);
}if (s6 != null){s6.setImplementingClass("cas.impl.VoiceChannel");
}if (s7 != null){s7.setState("ON");
}if (s7 != null){s7.setName("ForwardTelephony");
}if (s7 != null && s65!=null){s7.setType(s65);
}if (s7 != null && s1!=null){s7.setSuperComponent(s1);
}if (s7 != null && s8!=null){s7.getBinding().add(s8);
}if (s7 != null && s9!=null){s7.getBinding().add(s9);
}if (s7 != null && s10!=null){s7.setImplem(s10);
}if (s8 != null){s8.setId("notifier");
}if (s8 != null && s68!=null){s8.setClient(s68);
}if (s8 != null && s62!=null){s8.setServer(s62);
}if (s8 != null && s2!=null){s8.setServerInstance(s2);
}if (s9 != null){s9.setId("addressDB");
}if (s9 != null && s67!=null){s9.setClient(s67);
}if (s10 != null){s10.setImplementingClass("cas.impl.ForwardTelephony");
}if (s11 != null){s11.setName("_Calendar");
}if (s11 != null && s1!=null){s11.setSuperComponent(s1);
}if (s11 != null && s12!=null){s11.getBinding().add(s12);
}if (s12 != null){s12.setId("notifier");
}if (s12 != null && s62!=null){s12.setServer(s62);
}if (s12 != null && s2!=null){s12.setServerInstance(s2);
}if (s13 != null){s13.setId("notifier");
}if (s13 != null && s62!=null){s13.setSource(s62);
}if (s13 != null && s2!=null){s13.setServerInstance(s2);
}if (s14 != null){s14.setId("telephonyForward");
}if (s14 != null && s66!=null){s14.setSource(s66);
}if (s14 != null && s7!=null){s14.setServerInstance(s7);
}if (s15 != null){s15.setName("tutorial.diva.cas.IRankingStrategy");
}if (s15 != null && s16!=null){s15.getOperation().add(s16);
}if (s15 != null && s20!=null){s15.getOperation().add(s20);
}if (s15 != null && s24!=null){s15.getOperation().add(s24);
}if (s15 != null && s26!=null){s15.getOperation().add(s26);
}if (s16 != null){s16.setName("getRelevantEntries");
}if (s16 != null && s17!=null){s16.getInput().add(s17);
}if (s16 != null && s18!=null){s16.getInput().add(s18);
}if (s16 != null && s19!=null){s16.getInput().add(s19);
}if (s17 != null){s17.setName("java.util.List arg0");
}if (s18 != null){s18.setName("org.diva.runtime.cas.interfaces.IUserDescription arg1");
}if (s19 != null){s19.setName("org.diva.runtime.cas.interfaces.UserContext arg2");
}if (s20 != null){s20.setName("getRelevantEntriesRecursive");
}if (s20 != null && s21!=null){s20.getInput().add(s21);
}if (s20 != null && s22!=null){s20.getInput().add(s22);
}if (s20 != null && s23!=null){s20.getInput().add(s23);
}if (s21 != null){s21.setName("java.util.List arg0");
}if (s22 != null){s22.setName("org.diva.runtime.cas.interfaces.IUserDescription arg1");
}if (s23 != null){s23.setName("org.diva.runtime.cas.interfaces.UserContext arg2");
}if (s24 != null){s24.setName("rankEvent");
}if (s24 != null && s25!=null){s24.getInput().add(s25);
}if (s25 != null){s25.setName("org.diva.runtime.cas.interfaces.IEvent arg0");
}if (s26 != null){s26.setName("rankEvent");
}if (s26 != null && s27!=null){s26.getInput().add(s27);
}if (s27 != null){s27.setName("java.lang.String arg0");
}if (s28 != null){s28.setName("tutorial.diva.cas.IChannel");
}if (s28 != null && s29!=null){s28.getOperation().add(s29);
}if (s29 != null){s29.setName("encapsulate");
}if (s29 != null && s30!=null){s29.getInput().add(s30);
}if (s29 != null && s31!=null){s29.getInput().add(s31);
}if (s30 != null){s30.setName("java.lang.String arg0");
}if (s31 != null){s31.setName("java.lang.String arg1");
}if (s32 != null){s32.setName("tutorial.diva.cas.INotifier");
}if (s32 != null && s33!=null){s32.getOperation().add(s33);
}if (s33 != null){s33.setName("notifyUser");
}if (s33 != null && s34!=null){s33.getInput().add(s34);
}if (s33 != null && s35!=null){s33.getInput().add(s35);
}if (s34 != null){s34.setName("java.lang.String arg0");
}if (s35 != null){s35.setName("java.lang.String arg1");
}if (s36 != null){s36.setName("tutorial.diva.cas.ICalendar");
}if (s36 != null && s37!=null){s36.getOperation().add(s37);
}if (s36 != null && s41!=null){s36.getOperation().add(s41);
}if (s37 != null){s37.setName("addAppointment");
}if (s37 != null && s38!=null){s37.getInput().add(s38);
}if (s37 != null && s39!=null){s37.getInput().add(s39);
}if (s37 != null && s40!=null){s37.getInput().add(s40);
}if (s38 != null){s38.setName("java.lang.String arg0");
}if (s39 != null){s39.setName("java.lang.String arg1");
}if (s40 != null){s40.setName("java.lang.String arg2");
}if (s41 != null){s41.setName("removeAppointment");
}if (s41 != null && s42!=null){s41.getInput().add(s42);
}if (s42 != null){s42.setName("java.lang.String arg0");
}if (s43 != null){s43.setName("tutorial.diva.cas.IAddressDB");
}if (s43 != null && s44!=null){s43.getOperation().add(s44);
}if (s43 != null && s46!=null){s43.getOperation().add(s46);
}if (s43 != null && s48!=null){s43.getOperation().add(s48);
}if (s44 != null){s44.setName("addAddress");
}if (s44 != null && s45!=null){s44.getInput().add(s45);
}if (s45 != null){s45.setName("org.diva.runtime.cas.interfaces.items.IAddress arg0");
}if (s46 != null){s46.setName("searchAdressesInStandardsFields");
}if (s46 != null && s47!=null){s46.getInput().add(s47);
}if (s47 != null){s47.setName("java.lang.String arg0");
}if (s48 != null){s48.setName("searchAdressesByPhonenumber");
}if (s48 != null && s49!=null){s48.getInput().add(s49);
}if (s49 != null){s49.setName("java.lang.String arg0");
}if (s50 != null){s50.setName("tutorial.diva.cas.IUserInterface");
}if (s50 != null && s51!=null){s50.getOperation().add(s51);
}if (s50 != null && s53!=null){s50.getOperation().add(s53);
}if (s51 != null){s51.setName("display");
}if (s51 != null && s52!=null){s51.getInput().add(s52);
}if (s52 != null){s52.setName("java.lang.String arg0");
}if (s53 != null){s53.setName("readInput");
}if (s54 != null){s54.setName("tutorial.diva.cas.ITelephony");
}if (s54 != null && s55!=null){s54.getOperation().add(s55);
}if (s55 != null){s55.setName("send");
}if (s55 != null && s56!=null){s55.getInput().add(s56);
}if (s55 != null && s57!=null){s55.getInput().add(s57);
}if (s56 != null){s56.setName("java.lang.String arg0");
}if (s57 != null){s57.setName("java.lang.String arg1");
}if (s58 != null){s58.setName("tutorial.diva.cas.channel");
}if (s58 != null && s59!=null){s58.getPort().add(s59);
}if (s58 != null && s60!=null){s58.getPort().add(s60);
}if (s59 != null){s59.setIsOptional(false);
}if (s59 != null){s59.setLower(1);
}if (s59 != null){s59.setUpper(1);
}if (s59 != null){s59.setRole("server");
}if (s59 != null){s59.setName("channel");
}if (s59 != null && s28!=null){s59.setService(s28);
}if (s60 != null){s60.setIsOptional(false);
}if (s60 != null){s60.setLower(0);
}if (s60 != null){s60.setUpper(1);
}if (s60 != null){s60.setRole("client");
}if (s60 != null){s60.setName("ui");
}if (s60 != null && s50!=null){s60.setService(s50);
}if (s61 != null){s61.setName("tutorial.diva.cas.notifier");
}if (s61 != null && s62!=null){s61.getPort().add(s62);
}if (s61 != null && s63!=null){s61.getPort().add(s63);
}if (s61 != null && s64!=null){s61.getPort().add(s64);
}if (s62 != null){s62.setIsOptional(false);
}if (s62 != null){s62.setLower(1);
}if (s62 != null){s62.setUpper(1);
}if (s62 != null){s62.setRole("server");
}if (s62 != null){s62.setName("notifier");
}if (s62 != null && s32!=null){s62.setService(s32);
}if (s63 != null){s63.setIsOptional(false);
}if (s63 != null){s63.setLower(0);
}if (s63 != null){s63.setUpper(1);
}if (s63 != null){s63.setRole("client");
}if (s63 != null){s63.setName("channel");
}if (s63 != null && s28!=null){s63.setService(s28);
}if (s64 != null){s64.setIsOptional(false);
}if (s64 != null){s64.setLower(0);
}if (s64 != null){s64.setUpper(-1);
}if (s64 != null){s64.setRole("client");
}if (s64 != null){s64.setName("rankingStrategies");
}if (s64 != null && s15!=null){s64.setService(s15);
}if (s65 != null){s65.setName("tutorial.diva.cas.telephony");
}if (s65 != null && s66!=null){s65.getPort().add(s66);
}if (s65 != null && s67!=null){s65.getPort().add(s67);
}if (s65 != null && s68!=null){s65.getPort().add(s68);
}if (s66 != null){s66.setIsOptional(false);
}if (s66 != null){s66.setLower(1);
}if (s66 != null){s66.setUpper(1);
}if (s66 != null){s66.setRole("server");
}if (s66 != null){s66.setName("telephony");
}if (s66 != null && s54!=null){s66.setService(s54);
}if (s67 != null){s67.setIsOptional(false);
}if (s67 != null){s67.setLower(1);
}if (s67 != null){s67.setUpper(1);
}if (s67 != null){s67.setRole("client");
}if (s67 != null){s67.setName("addressDB");
}if (s67 != null && s43!=null){s67.setService(s43);
}if (s68 != null){s68.setIsOptional(false);
}if (s68 != null){s68.setLower(0);
}if (s68 != null){s68.setUpper(1);
}if (s68 != null){s68.setRole("client");
}if (s68 != null){s68.setName("notifier");
}if (s68 != null && s32!=null){s68.setService(s32);
}$s0.getServices().add(s43);
$s0.getServices().add(s36);
$s0.getServices().add(s28);
$s0.getServices().add(s32);
$s0.getServices().add(s50);
$s0.getServices().add(s15);
$s0.getServices().add(s54);
$s0.getTypes().add(s65);
$s0.getTypes().add(s61);
$s0.getTypes().add(s58);
$s1.getSubComponent().add(s2);
$s1.getSubComponent().add(s5);
$s1.getSubComponent().add(s7);
$s7.getBinding().add(s12);
s12.setClient($s3);
s9.setServer($s9);
s9.setServerInstance($s11);
end