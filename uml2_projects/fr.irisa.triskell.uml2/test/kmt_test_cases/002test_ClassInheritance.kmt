@mainClass "root_package::ClassInheritanceTestCase"
@mainOperation "main"

package uml2_tests;

require kermeta
require "ClassDiagram.kmt"

using kermeta::standard
using ClassDiagram

class ClassInheritanceTestCase inherits kermeta::kunit::TestCase
{
	attribute bClass : BClass
	attribute cClass : CClass
	
	method setUp() is do
    	bClass := BClass.new
    	cClass := CClass.new
	end
	
	method tearDown() is do
		// We don't need to tearDown anything in this test case.
	end
    
    // the BClass and CClass of the UML model must exist
    operation testUsedClasses() is do
    	assertTrueWithMsg(bClass != void,
    		"An BClass must exist in ClassDiagram.kmt")
    	assertTrueWithMsg(cClass != void,
    		"An CClass must exist in ClassDiagram.kmt")
    end
    
    // thz BClass has a aProperty, inherited from abstract AClass
    operation testBClassInheritedProperty() is do
    	bClass.aProperty := "test"
    	assertTrueWithMsg(bClass.aProperty == "test",
    		"The BClass must inherit a aProperty attribute in code")
    end
    
    // the BClass must have a collection of CClasses, inherited from abstract AClass
    operation testBClassInheritedAssociation() is do
    	bClass.CCollection.add(cClass)
    	assertTrueWithMsg(bClass.CCollection.size == 1,
    		"The BClass must inherit a collection of CClasses")
    end
}