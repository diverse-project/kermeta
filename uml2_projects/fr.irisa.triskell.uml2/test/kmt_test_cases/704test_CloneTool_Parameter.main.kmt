@mainClass "tools_tests::ToolCloneParameterTestCase"
@mainOperation "test_CloneTool_Parameter"

package tools_tests;


require kermeta
require "../../src/kermeta/transformations/UmlCloneFactory.kmt"

using uml2
using uml2::transformations

class ToolCloneParameterTestCase inherits kermeta::kunit::TestCase
{
	reference orig : Parameter
	reference clone : Parameter
	
	method setUp() is do
		//creating needed instances
		orig := Parameter.new
		orig.name := "pack"
		orig.visibility := VisibilityKind.private
		
		var factory : UmlCloneFactory init UmlCloneFactory.new
		factory.initialize
		clone := factory.cloneParameter(orig)
	end
	
	method tearDown() is do
		// We don't need to tearDown anything in this test case.
	end
    
    operation test_CloneTool_Parameter() is do
    	assertTrueWithMsg(clone != void,
    		"the cloneParameter() method must return something")
    	assertTrueWithMsg(Parameter.isInstance(clone),
    		"the object returned by cloneParameter() method must be a Parameter")
    	assertTrueWithMsg(clone != orig,
    		"the clone object must be different than the original")
    end
    operation test_CloneTool_ParameterProperties() is do
    	assertTrueWithMsg(clone.name == orig.name,
    		"the clone must be have the same name than the original")
    	assertTrueWithMsg(clone.visibility == VisibilityKind.private,
    		"the clone must be have the same visibility than the original")
    end
}