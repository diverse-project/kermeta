package uml2_tests;

require kermeta
require "ClassDiagram.kmt"

using kermeta::standard
using ClassDiagram

class CompositionTestCase inherits kermeta::kunit::TestCase
{
	attribute bClass : BClass
	attribute dClass : DClass
	
	method setUp() is do
    	bClass := BClass.new
    	dClass := DClass.new
	end
	
	method tearDown() is do
		// We don't need to tearDown anything in this test case.
	end
    
    // the BClass and DClass of the UML model must exist
    operation testUsedClasses() is do
    	assertTrueWithMsg(bClass != void,
    		"An BClass must exist in ClassDiagram.kmt")
    	assertTrueWithMsg(dClass != void,
    		"An DClass must exist in ClassDiagram.kmt")
    end
    
    // the BClass must be composed of one DClass
    operation testBClassInheritedAssociation() is do
    	bClass.composition := dClass
    	assertTrueWithMsg(DClass.isInstance(bClass.composition),
    		"The BClass must be composed of one DClass")
    end
}