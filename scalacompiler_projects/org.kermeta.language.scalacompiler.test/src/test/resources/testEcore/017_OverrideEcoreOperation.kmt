/* $Id:$ 
 * Creation : October 20, 2009
 * Licence  : EPL 
 * Copyright:
 * Authors  : 
 *            barais
 */
@mainClass "test1::Main"
@mainOperation "main"


package test1;


require kermeta
require "A.ecore"

using kermeta::standard
using kermeta::persistence
class Main
{
	operation main() : Void is do 
		 var repository : EMFRepository init EMFRepository.new
		 var resource : EMFResource 
 		resource ?= repository.getResource("platform:/resource/fr.irisa.triskell.kermeta.scala.compilo.test/src/test/resources/testEcore/A.xmi")//, "platform:/resource/KermetaCompilerTestCase/src/test1/A.ecore")
 		resource.load
 		var a : A 
 		a?= resource.one
 		a.test
 		stdio.writeln(a.getQualifiedName())
		
	end
}

aspect class A{
	 
	
	attribute  toto : String
	operation getQualifiedName() : String is do
		result := "toto"
	end
	
	operation test() : Void is do
		self.toto := "toto"
		stdio.writeln(self.name + " " + self.toto ) 
	end

	
}