/* $Id: Tools.kmt,v 1.3 2007-11-28 08:27:48 vmahe Exp $
 * File : Tools.kmt
 * License : EPL
 * Copyright : IRISA / INRIA / Universite de Rennes 1
 * ----------------------------------------------------------------------------
 * Creation date : Sep 08, 2005
 * Authors : 
 *  Didier Vojtisek <dvojtise@irisa.fr>
 *  Damien Pollet   <dpollet@irisa.fr>
 *	Vincent Mahï¿½	<vmahe@irisa.fr>
 * 
 */
//@mainClass "EcorePattern::Patterns"
//@mainOperation "main"


package EcoreTools;

    /* ------------- Generic tools for patterns --------------- */

require kermeta
//require "../helpers/EcoreHelper.kmt"
require "http://www.eclipse.org/emf/2002/Ecore"
using kermeta::standard
using ecore

class Tools inherits kermeta::kunit::Assert
{
    
//    reference helper : EcoreHelpers::EcoreHelper
    
    operation initialize() is do
//		helper := EcoreHelpers::EcoreHelper.new
//    	helper.initialize
    	
	end

	/** create a EPackage for storage of new classes of a pattern, to avoid pollution of the treated package */
	operation getSpecializedPackage(name : String, packUnderPattern : EPackage) : EPackage is do
		var specPack : EPackage init EPackage.new
		specPack.name := name
		
		// needed for resulting Ecore model validity 
		specPack.nsURI := name
		specPack.nsPrefix := name
		
		// for saving in model, the specialized package must be nested in the treated package
		packUnderPattern.eSubpackages.add(specPack)
		result := specPack
	end
}